# LLM指令：设备参数值标准化与映射 (最终版 v3 - 忽略代码)

## 目标：
你的任务是**严格按照**以下步骤处理输入 JSON 中 `设备列表` 内每个设备的 `共用参数` 字典。**必须处理 `共用参数` 中的每一个键值对**，并生成符合指定格式的输出 JSON。

**核心要求：**
1.  **参数映射：** 将输入的 `实际参数键` 映射到标准参数表中最合适的 `标准参数名称`。
2.  **值标准化：** 将输入的 `实际参数值` 转换为标准参数表中对应类别的、最规范的表达 (`标准化后的实际参数值`)。
3.  **完整性：** 输出的 `标准化共用参数` 字典**必须包含**输入 `共用参数` 字典中**所有**键值对对应的处理结果。
4.  **禁止推断：** **严禁**从 `型号规格` 等复杂参数值中推断并生成输入中未直接提供的其他参数。

## 输入：
1.  **实际设备列表 (JSON):** 一个JSON对象，包含一个名为 "设备列表" 的列表。列表中的每一项代表一个设备，包含：
    * `位号`: 包含设备标签号的列表。
    * `共用参数`: 一个字典，包含 `实际参数键`: `实际参数值`。**你必须处理这个字典里的所有条目。**
2.  **标准参数表 (参考资料):** 定义了 `标准参数名称` 及其允许的 `标准化后的实际参数值`。用它来查找匹配项。

    --- START STANDARD TABLES (Descriptions Only) ---

    **1. 温度变送器 (Transmitter)**

    * **YTA610 温度变送器**
        * **温度变送器 (model)**: YTA610
        * **输出信号 (输出信号)**: 4~20 mA DC，HART 通信型; FOUNDATION现场总线通信型
        * **说明书语言 (说明书语言)**: Global; 中文 (*备注: *2,*3)
        * **传感器输入 (传感器输入)**: 单支输入; 双支输入
        * **壳体代码 (壳体代码)**: 铝; 不锈钢
        * **接线口 (接线口)**: G1/2 内螺纹; 1/2NPT 内螺纹; M20 内螺纹
        * **内置指示器 (内置指示器)**: 数字指示器（带现场参数设定功能）; 无
        * **安装支架 (安装支架)**: 304 SST/ASTM304L 水平 (*1); 304 SST/ASTM304L 垂直; 316 SST/ASTM316L 水平 (*1); 316 SST/ASTM316L 垂直; 无
        * **附加规格 (附加规格)**: 默认 (若甲方未提供)
        * **附加代码 (附加代码)**: 带避雷器; 涂层(黑) (*1,*2,*4); 涂层(翠绿) (*1,*2,*4); 涂层(银) (*1,*2,*4); 涂层(红) (*1,*2,*4); 高防腐涂层 (*1,*2); 故障输出LOW/断偶LOW (*6); 故障输出LOW/断偶LOW(NAMUR) (*3); 故障输出HIGH/断偶HIGH(NAMUR) (*3); 位号牌; NEPSI隔爆 (*1); NEPSI本安(4-20mA); NEPSI本安(FF)

    * **YTA710 温度变送器**
        * **温度变送器 (model)**: YTA710
        * **输出信号 (输出信号)**: 4~20 mA DC，BRAIN; 4~20 mA DC，HART; FOUNDATION现场总线
        * **说明书语言 (说明书语言)**: Global; 中文 (*2,*3)
        * **传感器输入 (传感器输入)**: 单支输入; 双支输入
        * **壳体代码 (壳体代码)**: 铝; 不锈钢
        * **接线口 (接线口)**: G1/2 内螺纹; 1/2NPT 内螺纹; M20 内螺纹
        * **内置指示器 (内置指示器)**: 数字指示器（带现场参数设定功能）; 无
        * **安装支架 (安装支架)**: 304 SST/ASTM304L 水平 (*1); 304 SST/ASTM304L 垂直; 316 SST/ASTM316L 水平 (*1); 316 SST/ASTM316L 垂直; 无
        * **附加规格 (附加规格)**: 默认 (若甲方未提供)
        * **附加代码 (附加代码)**: 带避雷器 (*备注见CSV*); 涂层(黑) (*备注见CSV*); 涂层(翠绿) (*备注见CSV*); 涂层(银) (*备注见CSV*); 涂层(红) (*备注见CSV*); 高防腐涂层 (*备注见CSV*); 故障输出LOW/断偶LOW (*备注见CSV*); 故障输出LOW/断偶LOW(NAMUR) (*备注见CSV*); 故障输出HIGH/断偶HIGH(NAMUR) (*备注见CSV*); 位号牌 (*备注见CSV*); NEPSI隔爆 (*1); NEPSI本安(4-20mA); NEPSI本安(FF)

    **2. 传感器 (Sensor)**

    * **铠装热电阻（金属套管封装制成）**
        * **元件类型 (model)**: 热电阻
        * **元件数量 (元件数量)**: 单支式; 双支式
        * **铠装外径（d）**: Ø3mm; Ø4mm; Ø5mm; Ø6mm; Ø8mm; Ø10mm; 其它
        * **铠装材质**: 304SS; 321SS; 316SS; GH3030; 其它
        * **加强管长度（N）**: 0mm (*1); 100mm; 150mm; 200mm; 指定长度(单位mm, 3位)
        * **分度号**: PT100 三线; PT100 四线; 镍铬-铜镍(E); 铁-铜镍(J); 镍铬-镍铝(K); 铜-铜镍(T); 其它
        * **接线盒形式**: YTA610/710; 接线盒1/2NPT(YTA50/70) (*4); 接线盒M20(YTA50/70) (*4)
        * **接头结构**: 弹簧紧压式; 固定式
        * **连接螺纹**: 无 (*2); M12×1.5; M16×1.5; M27×2; G1/2; M20×1.5; 1/2NPT
        * **插入长度（L）**: 需要指定长度 (单位mm) (*3)
        * **附加规格选项**: 默认; 防爆粉尘(/N1); 本安粉尘(/N2); 弯头; 焊接座; 防水盒(铝); 防水盒(不锈钢)

    * **铠装热电偶（金属套管封装制成）**
        * **元件类型 (model)**: 热电偶
        * *(其他参数类别与HZ类似)*

    * **表面热电阻（抱箍或感温片固定）**
        * **元件类型 (model)**: 热电阻
        * **元件数量**: 单支; 双支
        * **铠套外径**: Φ4; Φ5; Φ6
        * **铠套材质**: 304 SS; 316L SS; 321 SS
        * **分度号**: PT100(3线); PT100(4线); 镍铬-铜镍(E); 镍铬-镍硅(K)
        * **铠套长度(mm)**: 需要指定长度
        * **过程连接**: 抱箍式 (*1); 焊接式 (*2)
        * **补偿导线长度(mm)**: 需要指定长度 (*3)
        * **铠套长度(mm) (for SR only?)**: 需要指定长度 (*3)

    * **表面热电偶（抱箍或感温片固定）**
        * **元件类型 (model)**: 热电偶
        * *(其他参数类别与SZ类似)*

    **3. 保护套管 (tg)**

    * **螺纹连接保护套管**
        * **TG (model)**: 保护套管
        * **选型**: A型(锥); B型(直); C型(阶)
        * **传感器连接螺纹（S）**: M12×1.5; M16×1.5; M27×2; G1/2; G3/4; 1/2NPT
        * **过程连接（P）**: 1/2" NPT; 3/4" NPT; 1" NPT; M20×1.5; M27×2; G1/2"; 其它
        * **材质**: GH3030; Hastelloy C-276; Inconel 625; 碳钢(SA-105); 碳钢(15CrMo); 304SS; 310SS; 316SS; 316H SS; 316L SS; 321SS; 钛(TA2); 2205双相钢; 其它
        * **根部直径（Q）**: 需要指定直径 (2位)
        * **端部直径（V）**: 需要指定直径 (2位)
        * **插入深度（U）(mm)**: 需要指定长度 (3位)
        * **附加规格代码**: 默认; 焊接座; 强度计算; 材质报告; 射线探伤; 着色渗透; 禁油; 水压测试; 抛光

    * **焊接安装保护套管**
        * **TG (model)**: 保护套管
        * **选型**: G型(锥); H型(直); J型(阶)
        * **传感器连接螺纹（S）**: (同上)
        * **头部长度 (H)(mm, >=50)**: 需要指定长度
        * **材质**: (同上)
        * **根部直径 (Q)(mm)**: 需要指定直径
        * **端部直径 (V)**: 16mm; 18mm; 22mm; 单独指定(mm)
        * **插入深度 (U)(mm)**: 需要指定长度
        * **附加规格代码**: (同上)

    * **法兰安装保护套管**
        * **TG (model)**: 保护套管
        * **选型**: K型(锥); L型(直); M型(阶)
        * **传感器连接螺纹（S）**: (同上)
        * **过程连接（法兰标准）**: ANSI; DIN; GB/T 9123; HG20592、HG20615; 其它
        * **过程连接（法兰尺寸（Fs））**: DN25(1"); DN40(1.5"); DN50(2"); 其它
        * **过程连接（法兰等级）**: 150#RF(PN2.0); 300#RF(PN5.0); 600#RF(PN11.0); 900#RJ(PN15.0); 1500#RJ(PN26.0); 2500#RJ(PN42.0); PN1.0RF; PN1.6RF; PN2.5RF; PN4.0RF; PN6.3RF; 其它
        * **法兰材质**: (同上)
        * **插入深度 (U)(mm)**: 需要指定长度
        * **套管材质**: (同上)
        * **根部直径 (Q)**: 22mm; 27mm (not for DN25); 指定(mm)
        * **端部直径 (V)**: 16mm; 18mm; 22mm; 指定(mm)
        * **附加规格代码**: (同上)

    * **PT1型(无固定装置钢管保护管)**
        * **TG (model)**: 保护套管
        * **套管形式**: 无固定装置金属保护管
        * **插入深度（U）(mm)**: 需要指定长度 (3位)
        * **材质**: (同上)
        * **外径（d）**: 12mm; 16mm; 20mm; 指定(mm, 2位)
        * **附加规格代码**: 默认; 材质报告; 禁油; 水压测试; 抛光

    * **PT2型(螺纹安装钢管保护管)**
        * **TG (model)**: 保护套管
        * **套管形式**: 螺纹安装金属保护管
        * **插入深度（U）(mm)**: 需要指定长度 (3位)
        * **总长（A）(mm)**: 需要指定长度 (3位)
        * **材质**: (同上)
        * **过程连接（螺纹）**: 1/2"NPT; 3/4"NPT; 1"NPT; 1-1/4"NPT; 1-1/2"NPT; M20×1.5; M27×2; M33×2; 其它
        * **外径（d）**: 12mm; 16mm; 20mm; 指定(mm, 2位)
        * **附加规格代码**: 默认; 焊接座; 材质报告; 禁油; 抛光

    * **PT3型(法兰安装钢管保护管)**
        * **TG (model)**: 保护套管
        * **套管形式**: 法兰安装金属保护管
        * **插入深度（U）(mm)**: 需要指定长度 (3位)
        * **总长（A）(mm)**: 需要指定长度 (3位)
        * **套管材质**: (同上)
        * **外径（d）**: 12mm; 16mm; 20mm; 指定(mm)
        * **过程连接（法兰标准）**: ANSI; DIN; GB/T9123; HG20592、HG20615; 其它
        * **过程连接（法兰尺寸（Fs））**: DN25(1"); DN40(1.5"); DN50(2"); 其它
        * **过程连接（法兰等级）**: 150#RF(PN2.0); 300#RF(PN5.0); PN1.0RF; PN1.6RF; PN2.5RF; PN4.0RF; PN6.3RF; 其它
        * **法兰材质**: (同上)
        * **附加规格代码**: 默认; 材质报告; 禁油; 抛光

    --- END STANDARD TABLES ---

3.  **向量数据库建议 (变量):** `{{vector_db_suggestions}}` - **仅作为辅助参考**，帮助理解 `实际参数键` 和 `实际参数值` 可能对应的标准项。**最终结果必须严格符合标准参数表。**

## 处理流程 (对每个设备的 `共用参数` 和'不同参数'字典中的每个 `实际参数键: 实际参数值` 对执行)：
1.  **映射键：** 找到 `实际参数键` 对应的 `标准参数名称`。
2.  **标准化值：** 找到 `实际参数值` 在该 `标准参数名称` 类别下的标准表达 (`标准化后的实际参数值`)。**必须使用标准表中的规范值。**
3.  **构建输出条目：**
    *   **输出键：** 格式为 `标准参数名称 (实际参数键)`。
    *   **输出值：** 格式为 `标准化后的实际参数值 (实际参数值)`。
4.  **添加到结果：** 将此 `输出键: 输出值` 对添加到该设备的 `标准化共用参数` 字典中。
5.  **如果某一个'实际参数'或'实际参数值'没能进行匹配，则保留原值。

**重要：** 确保输入 `共用参数` 中的**每一个**键值对都在输出 `标准化共用参数` 中有对应的条目。如果没有，请保留原本的值。

## 输出格式：
输出一个 JSON 对象，结构如下：
```json
{
  "设备列表": [
    {
      "位号": ["原始位号"],
      "标准化共用参数": {
        "标准参数名称1 (实际参数键1)": "标准化后的实际参数值1 (实际参数值1)",
        "标准参数名称2 (实际参数键2)": "标准化后的实际参数值2 (实际参数值2)",
        // ... 必须包含输入共用参数的所有对应条目 ...
      }，
      "标准化不同参数"（实际参数键）：{ '标准化后的实际参数值': 实际参数值"},//若存在不同参数才需添加，否则忽略。同时必须包含输入不同参数的所有对应条目 
    }
    // ... 其他设备 ...
  ]
}
```
**关键格式要求：**
*   输出字典的**键**格式：`标准参数名称 (实际参数键)`
*   输出字典的**值**格式：`标准化后的实际参数值 (实际参数值)`
*   `标准化后的实际参数值` **必须**是标准参数表中的规范表达。

**简化示例：**
如果输入是：
```json
{ "位号": ["T1"], 
"共用参数": { "材质": "316ss", "连接方式": "Flange ANSI 150#" }，
"不同参数"：{{不同参数1：值1}，
            {不同参数2：值2}，
            ... }}
```
输出应该是类似这样（假设映射和标准化结果）：
```json
{
  "设备列表": [
    {
      "位号": ["T1"],
      "标准化共用参数": {
        "套管材质 (材质)": "316SS (316ss)",
        "过程连接（法兰标准） (连接方式)": "ANSI (Flange ANSI 150#)",
        "过程连接（法兰等级） (连接方式)": "150#RF(PN2.0) (Flange ANSI 150#)"
        // 注意：一个输入可能映射到多个标准参数，但必须基于输入键值对
      },
      "标准化不同参数"：{
        不同参数：值，//若存在不同参数
            不同参数2：值2}，
            ... }]
 }     
**重要**：请确保输入和输出是一样完整的。
  

```
