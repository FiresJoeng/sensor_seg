# 温度变送器型号字符串生成逻辑

## 概述
温度变送器型号字符串是由主型号和一系列规格代码组成的标识符，用于精确描述产品配置。

**示例**：YTA610-JA1C2NN/NF2

## 基本原则
- **标准参数**：对应CSV文件中的"model"列参数
- **标准参数值/缺省默认值**：对应CSV文件中的"code"列参数

## 一、核心处理逻辑

### 1. 输入参数解析
- **结构化输入**：接收{标准参数: 标准参数值/缺省默认值}格式的参数映射
- **扩展参数支持**：处理{实际参数值/说明/备注}等非标准输入形式

### 2. 产品主型号确定
- 通过{温度变送器: VALUE}查询index.json文件，VALUE必须精确匹配index.json中的产品主型号（键）
- 根据确定的主型号，定位关联的CSV数据源文件（可能有多个）

## 二、参数匹配与规格代码生成流程

### 1. 标准参数匹配阶段
- 遍历输入的"标准参数"集合
- 采用多种匹配策略将输入参数与CSV中"model"列参数对应：
  - 规则匹配
    - 正则表达式
    - 语义向量
  - 大模型智能检索

### 2. 规格代码生成算法
```
对每个"标准参数"执行：
    如果 存在明确的"标准参数值"或"缺省默认值"：
        将该值与CSV中"code"列进行精准匹配
        匹配成功则提取对应规格代码
    又如果 存在非标准形式的参数值（如"实际参数值"/"说明"/"备注"等）：
        启动智能模糊匹配引擎：
            1. 构建参数描述的语义向量表示
            2. 计算输入参数与候选参数间的语义相似度
            3. 当相似度超过85%阈值时，采用对应规格代码
            4. 相似度低于阈值时，跳过当前规格代码位
    否则：
        跳过当前规格代码位
```

### 3. 规格代码组装
- 按照产品规格定义的顺序，依次组装已确定的规格代码
- 生成最终完整的型号字符串

## 三、输出结果格式
```
{主型号}{规格代码1}{规格代码2}...{规格代码N}
```

例如：YTA710-JA1C2NN/NF2，其中YTA710为主型号，后续字符为各项规格代码的组合。